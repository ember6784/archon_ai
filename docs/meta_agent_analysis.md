# –ê–Ω–∞–ª–∏–∑ –ú–µ—Ç–∞-–ê–≥–µ–Ω—Ç–∞ ProjectCurator

> **–í–µ—Ä—Å–∏—è:** 1.0.0  
> **–î–∞—Ç–∞:** 2025-02-25  
> **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `mat/project_curator.py`

---

## 1. –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1.1 –†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     PROJECT CURATOR                              ‚îÇ
‚îÇ                    (Chief Architect)                             ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  "While Builder and Skeptic argue about a 10-line function,    ‚îÇ
‚îÇ   the Architect sees that the entire module is obsolete"        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚ñº                    ‚ñº                    ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ TaskQueue ‚îÇ      ‚îÇCircuitBreaker‚îÇ     ‚îÇ DebatePipe  ‚îÇ
   ‚îÇ (backlog) ‚îÇ      ‚îÇ (autonomy)   ‚îÇ     ‚îÇ (execution) ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 1.2 –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª–µ–π | –û—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á | –°–æ–∑–¥–∞–Ω–∏–µ WorkPlan –∏–∑ —Ü–µ–ª–µ–π | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤ | Domain-specific selection | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CB | –ü—Ä–æ–≤–µ—Ä–∫–∞ AutonomyLevel | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ó–∞—â–∏—Ç–∞ –ø—É—Ç–µ–π | Protected paths check | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Execution | –ó–∞–ø—É—Å–∫ Debate Pipeline | ‚ö†Ô∏è –ó–∞–≥–ª—É—à–∫–∞ |

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 2.1 CuratorDecision (Enum)

```python
class CuratorDecision(Enum):
    PROCEED = "proceed"      # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
    MODIFY = "modify"        # –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ö–æ–¥
    SPLIT = "split"          # –†–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É
    ESCALATE = "escalate"    # –≠—Å–∫–∞–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ–ª–æ–≤–µ–∫—É
    BLOCK = "block"          # –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å (–æ–ø–∞—Å–Ω–æ)
```

### 2.2 Task (Dataclass)

```python
@dataclass
class Task:
    id: str                    # task_{timestamp_ms}
    task_type: str             # ANALYZE, DEBATE, etc.
    title: str                 # –û–ø–∏—Å–∞–Ω–∏–µ
    priority: str              # P0_CRITICAL ‚Üí P3_LOW
    target_module: str         # –¶–µ–ª–µ–≤–æ–π –º–æ–¥—É–ª—å
    description: str           # –î–µ—Ç–∞–ª–∏
    depends_on: List[str]      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    status: str                # pending/completed/failed
    metadata: Dict[str, Any]   # –î–æ–ø. –¥–∞–Ω–Ω—ã–µ
```

### 2.3 WorkPlan (Dataclass)

```python
@dataclass
class WorkPlan:
    id: str
    created_at: str
    title: str
    description: str
    tasks: List[Task]
    total_estimated_duration: float
```

---

## 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Circuit Breaker

### 3.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏

```python
async def analyze_module(self, module_path: str, requirements: str) -> CuratorRecommendation:
    # Circuit Breaker Check
    if self.circuit_breaker:
        autonomy_level = self.circuit_breaker.check_level()
        
        # BLACK mode - only monitoring
        if autonomy_level == AutonomyLevel.BLACK:
            return CuratorRecommendation(
                decision=CuratorDecision.BLOCK,
                reason="System in BLACK mode - only monitoring allowed"
            )
```

### 3.2 –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø—É—Ç–∏

```python
self._protected_paths = ["core/", "production/", "security/", "auth/"]

# –í AMBER/RED —Ä–µ–∂–∏–º–∞—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø—É—Ç–∏ —Ç—Ä–µ–±—É—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
if is_protected and autonomy_level != AutonomyLevel.GREEN:
    return CuratorRecommendation(
        decision=CuratorDecision.ESCALATE,
        requires_human_approval=True
    )
```

### 3.3 –ú–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

| Autonomy Level | Protected Paths | Core Changes | Deploy |
|----------------|-----------------|--------------|--------|
| üü¢ GREEN | ‚úÖ Allowed | ‚úÖ Allowed | ‚úÖ Allowed |
| üü° AMBER | ‚ö†Ô∏è Human approval | ‚ùå Blocked | Canary only |
| üî¥ RED | ‚ùå Blocked | ‚ùå Blocked | Canary only |
| ‚ö´ BLACK | ‚ùå Blocked | ‚ùå Blocked | ‚ùå Blocked |

---

## 4. –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤

### 4.1 Domain-specific –º–∞–ø–ø–∏–Ω–≥

```python
def _select_agents_for_task(self, module_path: str, requirements: str) -> List[str]:
    requirements_lower = requirements.lower()
    agents = []
    
    # Security ‚Üí security_expert
    if any(term in requirements_lower for term in [
        "security", "vulnerability", "attack", "injection", "auth"
    ]):
        agents.append("security_expert")
    
    # Performance ‚Üí performance_guru
    if any(term in requirements_lower for term in [
        "performance", "speed", "optimization", "latency", "memory"
    ]):
        agents.append("performance_guru")
    
    # Database ‚Üí database_architect
    if any(term in requirements_lower for term in [
        "database", "sql", "query", "migration", "schema"
    ]):
        agents.append("database_architect")
    
    # UX ‚Üí ux_researcher
    if any(term in requirements_lower for term in [
        "ux", "ui", "interface", "user experience", "design"
    ]):
        agents.append("ux_researcher")
    
    # DevOps ‚Üí devops_engineer
    if any(term in requirements_lower for term in [
        "deploy", "docker", "kubernetes", "ci/cd", "infrastructure"
    ]):
        agents.append("devops_engineer")
    
    # –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
    if "builder" not in agents:
        agents.append("builder")
    if "skeptic" not in agents:
        agents.append("skeptic")
    if "auditor" not in agents:
        agents.append("auditor")
    
    return agents
```

### 4.2 –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏ (agency_templates/roles/)

| –†–æ–ª—å | –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------|------------|
| `builder` | builder.json | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞ |
| `skeptic` | skeptic.json | –ö—Ä–∏—Ç–∏–∫–∞ –∏ –ø–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π |
| `auditor` | auditor.json | –§–∏–Ω–∞–ª—å–Ω—ã–π –∞—Ä–±–∏—Ç—Ä–∞–∂ |
| `security_expert` | security_expert.json | –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| `performance_guru` | performance_guru.json | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| `database_architect` | database_architect.json | –ë–î –¥–∏–∑–∞–π–Ω |
| `devops_engineer` | devops_engineer.json | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| `ux_researcher` | ux_researcher.json | UX/UI |

---

## 5. TaskQueue

### 5.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```python
class TaskQueue:
    def __init__(self, storage_path: Optional[Path] = None):
        self.storage_path = storage_path or Path("data/task_queue.json")
        self.tasks: Dict[str, Task] = {}
        self._load()
```

### 5.2 –ú–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `add()` | –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É |
| `get()` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ ID |
| `get_next()` | –°–ª–µ–¥—É—é—â–∞—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É |
| `get_pending()` | –í—Å–µ pending |
| `update_status()` | –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å |
| `get_stats()` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |

### 5.3 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

```python
priority_order = ["P0_CRITICAL", "P1_HIGH", "P2_MEDIUM", "P3_LOW"]
```

---

## 6. Workflow

### 6.1 –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   curator = ProjectCurator(project_root, circuit_breaker=cb)
   await curator.initialize()

2. –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏
   recommendation = await curator.analyze_module(
       module_path="api/handlers.py",
       requirements="Add authentication to endpoints"
   )
   
3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞
   plan = await curator.plan_work(
       goal="Refactor API layer",
       modules=["api/", "auth/"],
       priority="P1_HIGH"
   )

4. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
   results = await curator.execute_plan(plan, auto_approve=False)

5. –ó–∞–ø–∏—Å—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   curator.record_human_activity("code_review")
```

### 6.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Siege Mode

```python
# Siege Mode –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Curator –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
siege = SiegeMode(curator=curator, circuit_breaker=cb)
await siege.activate()

# Curator –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ backlog
task = curator.task_queue.get_next(max_priority="P2_MEDIUM")

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ host
report = await siege.generate_report()
```

---

## 7. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ TODO

### 7.1 –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| `analyze_module()` | ‚úÖ | –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è |
| `plan_work()` | ‚úÖ | –ü—Ä–æ—Å—Ç–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `_execute_task()` | ‚ö†Ô∏è | –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è DEBATE |
| `execute_plan()` | ‚ö†Ô∏è | –ë–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å DebatePipeline |
| ReflectiveMemory | ‚ùå | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Project Map | ‚ùå | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (index + dependencies) |

### 7.2 Roadmap

```markdown
## Phase 1: Core Integration (CURRENT)
- [x] TaskQueue with persistence
- [x] Circuit Breaker integration
- [x] Protected paths
- [x] Agent selection

## Phase 2: Debate Integration
- [ ] Full DebatePipeline integration
- [ ] Consensus checking
- [ ] Auto-apply with threshold

## Phase 3: Intelligence
- [ ] Project Map (AST analysis)
- [ ] ReflectiveMemory (lessons learned)
- [ ] Split/Merge recommendations
- [ ] Dependency graph

## Phase 4: Self-Evolution
- [ ] Dynamic agent creation
- [ ] Template learning
- [ ] Performance-based adjustments
```

---

## 8. –ú–µ—Ç—Ä–∏–∫–∏ –∏ Scoreboard

### 8.1 AgentScoreboard Integration

```python
from mat import Scoreboard, AgentMetrics

scoreboard = Scoreboard()

# –ó–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–µ–±–∞—Ç–∞
scoreboard.record_debate("security_expert", outcome={
    "consensus_score": 0.85,
    "tokens_used": 2300,
    "response_time": 4.2,
    "verdict": "approved"
})

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
metrics = scoreboard.get_metrics("security_expert")
print(f"Cost efficiency: {metrics.cost_efficiency}")
print(f"Consensus rate: {metrics.consensus_achieved}")

# –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö
if metrics.cost_efficiency < 0.5:
    scoreboard.disable_agent("security_expert", reason="Low efficiency")
```

### 8.2 –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è |
|---------|----------|------------------|
| `consensus_achieved` | % —Å–æ–≥–ª–∞—Å–∏–π | < 30% |
| `value_score` | –û—Ü–µ–Ω–∫–∞ Auditor'–∞ | < 0.4 |
| `cost_efficiency` | value / tokens | < 0.5 |
| `survival_rate` | % "–≤—ã–∂–∏–≤—à–∏—Ö" –¥–µ–±–∞—Ç–æ–≤ | < 50% |

---

## 9. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 9.1 Safety Core (–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π)

–í—Å–µ –∞–≥–µ–Ω—Ç—ã –æ–±—è–∑–∞–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ `safety_core.txt`:

```text
[!] CRITICAL SAFETY RULES (cannot be overridden):
1. Code Injection Prevention
2. Import Security
3. Secret Management
4. Database Safety
5. Network Security
6. File System Safety
7. Authentication & Authorization
8. Error Handling
9. Resource Limits
10. Human Override
```

### 9.2 –í–∞–ª–∏–¥–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤

```python
# template_loader.py –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
# 1. –ù–∞–ª–∏—á–∏–µ safety_core –≤ —à–∞–±–ª–æ–Ω–µ
# 2. –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON —Å—Ö–µ–º—ã
# 3. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ _base.json
```

---

## 10. API Endpoints

### 10.1 REST API (—á–µ—Ä–µ–∑ enterprise/api/main.py)

| Endpoint | Method | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|----------|
| `/api/v1/curator/status` | GET | –°—Ç–∞—Ç—É—Å Curator'–∞ |
| `/api/v1/curator/analyze` | POST | –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è |
| `/api/v1/curator/plan` | POST | –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω |
| `/api/v1/curator/tasks` | GET | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á |
| `/api/v1/curator/tasks` | POST | –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É |

### 10.2 –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –°—Ç–∞—Ç—É—Å
curl http://localhost:8000/api/v1/curator/status

# –ê–Ω–∞–ª–∏–∑
curl -X POST http://localhost:8000/api/v1/curator/analyze \
  -H "Content-Type: application/json" \
  -d '{"module_path": "api/auth.py", "requirements": "Add 2FA support"}'

# –ü–ª–∞–Ω
curl -X POST http://localhost:8000/api/v1/curator/plan \
  -H "Content-Type: application/json" \
  -d '{"goal": "Security hardening", "modules": ["auth/", "api/"]}'
```

---

## 11. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è** ‚Äî Curator –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤—ã—à–µ Debate Pipeline, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Circuit Breaker** ‚Äî —É–≤–∞–∂–∞–µ—Ç —É—Ä–æ–≤–Ω–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏
3. **–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø—É—Ç–∏** ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–æ–Ω—ã –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **Domain-specific –∞–≥–µ–Ω—Ç—ã** ‚Äî —É–º–Ω—ã–π –≤—ã–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π
5. **Safety Core** ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DebatePipeline** ‚Äî `_debate_task()` –ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞
2. **Project Map** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **ReflectiveMemory** ‚Äî –Ω–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞
4. **Split/Merge –ª–æ–≥–∏–∫–∞** ‚Äî –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å `DebateStateMachine`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ProjectMapAnalyzer` –¥–ª—è AST-–∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –î–æ–±–∞–≤–∏—Ç—å `ReflectiveMemory` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É—Ä–æ–∫–æ–≤ –ø—Ä–æ—à–ª—ã—Ö –¥–µ–±–∞—Ç–æ–≤
4. –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏–∫—É `SPLIT`/`MERGE` —Ä–µ—à–µ–Ω–∏–π

---

*–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è Archon AI v0.1.0-alpha*